<section class="mdl-layout__tab-panel is-active" id="fixed-tab-1">
     <div class="page-content">
       <div class="demo-card-square mdl-card mdl-shadow--2dp">
          <div class="mdl-card__title mdl-card--expand">
            <h2 class="mdl-card__title-text">Your Profile</h2>
          </div>
          <div class="mdl-card__supporting-text">
            <form action="<%=@user.id%>/updateProfile" method="POST">
               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                 <input class="mdl-textfield__input" type="text" name="user[usernameOrEmail]" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" id="username-or-email">
                 <label class="mdl-textfield__label" for="username-or-email"> Your e-mail address(actually <strong><%= @user.username %></strong>)</label>
                 <span class="mdl-textfield__error">Expected a valid e-mail address</span>
               </div><br/>
               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                 <input class="mdl-textfield__input" type="text" name="profile[name]" id="name">
                 <label class="mdl-textfield__label" for="name">Your name (actually <%= (@profile.nil? or @profile.name =='') ? 'no name registered' : ("<strong>" + @profile.name + "</strong>") %>)</label>
                 <span class="mdl-textfield__error">Expected a valid name</span>
               </div><br/>
               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                 <input class="mdl-textfield__input" type="text" name="profile[phone]" pattern="[0-9]*" id="phone">
                 <label class="mdl-textfield__label" for="phone">Your phone number (actually <%= (@profile.nil?  or @profile.phone =='') ? 'no phone registered' : ("<strong>" + @profile.phone + "</strong>") %>)</label>
                 <span class="mdl-textfield__error">Expected a valid phone number</span>
               </div><br/>
               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                 <input class="mdl-textfield__input" name="profile[ZIPcode]" type="text" id="ZIP-code" pattern="^\d{5}(?:[-\s]\d{4})?$">
                 <label class="mdl-textfield__label" for="ZIP-code">Your ZIP code (actually <%= (@profile.nil?  or @profile.ZIPcode =='') ? 'no ZIP-code registered' : ("<strong>" + @profile.ZIPcode + "</strong>") %>)</label>
                 <span class="mdl-textfield__error">Expected a valid ZIP code</span>
               </div><br/>
               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                 <input class="mdl-textfield__input" type="text" name="profile[city]" id="city">
                 <label class="mdl-textfield__label" for="city">Your city (actually <%= (@profile.nil? or @profile.city =='') ? 'no city registered' : ("<strong>" + @profile.city + "</strong>") %>)</label>
               </div><br/>
               <input type="submit" id="settings-profile-submit-hidden">
             </form>
          </div>
          <div class="mdl-card__actions mdl-card--border">
            <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" id="settings-profile-submit">
              UPDATE
            </a>
          </div>
        </div><br/>
       <div class="demo-card-square mdl-card mdl-shadow--2dp">
           <div class="mdl-card__title mdl-card--expand">
             <h2 class="mdl-card__title-text">Manage Password</h2>
           </div>
           <div class="mdl-card__supporting-text">
             <form action="<%=@user.id%>/updatePassword" method="POST">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="password" name="user[newPassword]" id="newPassword">
                  <label class="mdl-textfield__label" for="newPassword">Enter a new password</label>
                </div><br/>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="password" name="user[reNewPassword]" id="reNewPassword">
                  <label class="mdl-textfield__label" for="reNewPassword">Re-type your new password</label>
                </div><br/>
                <input type="submit" id="settings-passwords-submit-hidden">
              </form>
           </div>
           <div class="mdl-card__actions mdl-card--border">
             <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" id="settings-passwords-submit">
               UPDATE
             </a>
           </div>
         </div>
     </div>
</section>
<section class="mdl-layout__tab-panel" id="fixed-tab-2">
     <div class="page-content">
       <ul class="demo-list-control mdl-list">
        <form action="<%=@user.id%>/setAppNotifications" method="POST">
           <li class="mdl-list__item">
               <span class="mdl-list__item-primary-content span-settings-list-item">
                 <i class="material-icons span-settings-list-item-icon">notifications_active</i>
                 Let the app send push notifications
               </span>
               <span class="mdl-list__item-secondary-action">
                <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="settings-appnotifications-checkbox">
                  <input type="checkbox" name="settings[appnotifications]" id="settings-appnotifications-checkbox" class="mdl-switch__input" <%= (@settings.appnotifications == 'on') ? 'checked' : '' %> />
                </label>
               </span>
               <input type="submit" id="settings-appnotifications-submit-hidden">
           </li>
         </form>
        </ul>
     </div>
</section>
<script type="text/javascript">
  $(function(){
    $("#settings-profile-submit").click(function(){
          $("#settings-profile-submit-hidden").click();
    });
    $("#settings-passwords-submit").click(function(){
          $("#settings-passwords-submit-hidden").click();
    });
    $("#settings-appnotifications-checkbox").change(function() {
      $("#settings-appnotifications-submit-hidden").click();
    });
  });
</script>
<style>
.demo-card-square.mdl-card{
  width: 100%;
  height: auto;
}
.mdl-card__supporting-text{
  width:100%;
}
.demo-card-square > .mdl-card__title {
  color: #fff;
  background:
    url('http://hdqwalls.com/wallpapers/material-design-4k.jpg') bottom right 50% no-repeat #46B6AC;
}
.mdl-textfield.mdl-js-textfield.mdl-textfield--floating-label
{
  width: 90%;
}
.demo-list-control {
  width: 100%;
}

.span-settings-list-item
{
  display: inline;
}
.span-settings-list-item-icon
{
  font-size: 48px;
  vertical-align: middle;
  padding-top: 0px;
  margin-right: 50px;
  color:purple;
}
#settings-profile-submit-hidden,#settings-passwords-submit-hidden,#settings-appnotifications-submit-hidden
{
  display: none;
}
</style>
